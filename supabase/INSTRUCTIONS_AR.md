# تعليمات تطبيق التحديثات - إضافة السائق للشاحنات

## الخطوة 1: تشغيل SQL في Supabase

1. افتح لوحة تحكم Supabase الخاصة بمشروعك
2. اذهب إلى **SQL Editor**
3. افتح ملف `supabase/add_driver_to_trucks.sql`
4. انسخ محتوى الملف والصقه في SQL Editor
5. اضغط على **Run** لتنفيذ الأمر

## ما الذي سيحدث؟

سيتم إضافة عمود جديد `driver_id` إلى جدول `trucks` بحيث:
- كل شاحنة يمكن أن يكون لها سائق مخصص
- العمود اختياري (يمكن أن يكون NULL)
- عند حذف سائق، سيتم إزالة الربط تلقائياً (ON DELETE SET NULL)

## الخطوة 2: تخصيص السائقين للشاحنات

بعد تشغيل SQL، يمكنك تخصيص السائقين للشاحنات بإحدى الطرق:

### الطريقة 1: من خلال SQL Editor
```sql
-- مثال: تخصيص سائق لشاحنة
UPDATE trucks 
SET driver_id = 'driver-uuid-here'
WHERE id = 'truck-uuid-here';
```

### الطريقة 2: من خلال Table Editor
1. اذهب إلى **Table Editor** → **trucks**
2. اضغط على أي صف لتعديله
3. اختر السائق من قائمة `driver_id`
4. احفظ التغييرات

## الخطوة 3: اختبار الميزة

1. افتح صفحة إضافة حجز جديد في التطبيق
2. اختر شاحنة من القائمة المنسدلة
3. سيتم ملء السائق تلقائياً إذا كانت الشاحنة لها سائق مخصص

## ملاحظات مهمة

- ✅ تم تحديث ملف `database.types.ts` ليشمل `driver_id`
- ✅ تم تحديث صفحة إضافة الحجز لدعم الملء التلقائي
- ✅ الميزة اختيارية - يمكن ترك الشاحنة بدون سائق مخصص
- ✅ يمكن تغيير السائق يدوياً حتى بعد الملء التلقائي

## في حالة حدوث مشاكل

إذا واجهت أي مشاكل:
1. تأكد من تشغيل SQL بنجاح
2. تحقق من أن جدول `drivers` يحتوي على سائقين
3. تأكد من إعادة تشغيل التطبيق بعد التحديثات
